<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Talentae - Platform Belajar Skill Praktis</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Google Fonts - Poppins -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --primary: #5B23FF;
            --background: #F5FBE6;
            --secondary: #54B435;
            --white: #ffffff;
            --dark: #1a1a1a;
            --gray: #6c757d;
            --light-gray: #f8f9fa;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--background);
            color: var(--dark);
            transition: background-color 0.3s, color 0.3s;
        }

        body.dark-mode {
            --background: #1a1a1a;
            --white: #2d2d2d;
            --dark: #ffffff;
            --light-gray: #2d2d2d;
            background-color: var(--background);
            color: var(--dark);
        }

        /* Navbar */
        .navbar {
            background-color: var(--white);
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            padding: 1rem 0;
        }

        .navbar-brand {
            font-weight: 700;
            font-size: 1.5rem;
            color: var(--primary) !important;
        }

        .nav-link {
            color: var(--dark) !important;
            font-weight: 500;
            margin: 0 0.5rem;
            transition: color 0.3s;
        }

        .nav-link:hover {
            color: var(--primary) !important;
        }

        .btn-primary {
            background-color: var(--primary);
            border: none;
            border-radius: 25px;
            padding: 0.5rem 1.5rem;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-primary:hover {
            background-color: #4a1acc;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(91, 35, 255, 0.3);
        }

        .btn-secondary {
            background-color: var(--secondary);
            border: none;
            border-radius: 25px;
            padding: 0.5rem 1.5rem;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-secondary:hover {
            background-color: #459129;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(84, 180, 53, 0.3);
        }

        /* Hero Section */
        .hero {
            padding: 5rem 0;
            background: linear-gradient(135deg, var(--primary) 0%, #7c3aed 100%);
            color: white;
            border-radius: 0 0 50px 50px;
        }

        .hero h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .hero p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
        }

        /* Cards */
        .card {
            border: none;
            border-radius: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            transition: all 0.3s;
            background-color: var(--white);
            overflow: hidden;
        }

        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 30px rgba(91, 35, 255, 0.2);
        }

        .card-img-top {
            height: 200px;
            object-fit: cover;
        }

        .category-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background-color: var(--primary);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .skill-badge {
            display: inline-block;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.85rem;
            font-weight: 600;
            margin: 0.2rem;
        }

        .badge-beginner {
            background-color: #54B435;
            color: white;
        }

        .badge-intermediate {
            background-color: #FF9800;
            color: white;
        }

        .badge-advanced {
            background-color: #F44336;
            color: white;
        }

        /* Progress Bar */
        .progress {
            height: 10px;
            border-radius: 10px;
            background-color: #e9ecef;
        }

        .progress-bar {
            background-color: var(--secondary);
            border-radius: 10px;
            transition: width 1s ease-in-out;
        }

        /* Form Styling */
        .form-control {
            border-radius: 15px;
            border: 2px solid #e9ecef;
            padding: 0.75rem 1rem;
            transition: all 0.3s;
        }

        .form-control:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 0.2rem rgba(91, 35, 255, 0.25);
        }

        /* Auth Pages */
        .auth-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem 0;
        }

        .auth-card {
            max-width: 450px;
            width: 100%;
            padding: 2.5rem;
            border-radius: 25px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            background-color: var(--white);
        }

        /* Dashboard */
        .dashboard-card {
            background-color: var(--white);
            padding: 2rem;
            border-radius: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            margin-bottom: 1.5rem;
        }

        .stat-card {
            background: linear-gradient(135deg, var(--primary) 0%, #7c3aed 100%);
            color: white;
            padding: 1.5rem;
            border-radius: 20px;
            text-align: center;
        }

        .stat-card h3 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        /* Roadmap */
        .roadmap-step {
            position: relative;
            padding: 2rem;
            background-color: var(--white);
            border-radius: 20px;
            margin-bottom: 2rem;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
        }

        .roadmap-step::before {
            content: '';
            position: absolute;
            left: -30px;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
            height: 20px;
            background-color: var(--secondary);
            border-radius: 50%;
            border: 4px solid var(--background);
        }

        .roadmap-step.completed::before {
            background-color: var(--primary);
        }

        /* Payment Modal */
        .payment-option {
            padding: 1.5rem;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            margin-bottom: 1rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .payment-option:hover {
            border-color: var(--primary);
            background-color: rgba(91, 35, 255, 0.05);
        }

        .payment-option.selected {
            border-color: var(--primary);
            background-color: rgba(91, 35, 255, 0.1);
        }

        /* Dark Mode Toggle */
        .dark-mode-toggle {
            background-color: transparent;
            border: none;
            color: var(--dark);
            font-size: 1.2rem;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .dark-mode-toggle:hover {
            transform: rotate(20deg);
        }

        /* Loading Animation */
        .loading-container {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            z-index: 9999;
            justify-content: center;
            align-items: center;
        }

        .loading-container.show {
            display: flex;
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 3rem;
            color: var(--gray);
        }

        .empty-state i {
            font-size: 5rem;
            margin-bottom: 1rem;
            opacity: 0.3;
        }

        /* Checkmark Animation */
        @keyframes checkmark {
            0% {
                transform: scale(0);
                opacity: 0;
            }
            50% {
                transform: scale(1.2);
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .checkmark {
            animation: checkmark 0.5s ease-in-out;
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: var(--white);
            padding: 1rem 1.5rem;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            z-index: 9998;
            display: none;
            animation: slideIn 0.3s ease-in-out;
        }

        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .notification.show {
            display: block;
        }

        .notification.success {
            border-left: 4px solid var(--secondary);
        }

        .notification.error {
            border-left: 4px solid #F44336;
        }

        /* Icon Animation */
        .icon-hover {
            transition: all 0.3s;
        }

        .icon-hover:hover {
            transform: scale(1.2) rotate(10deg);
            color: var(--primary);
        }

        /* Certificate */
        .certificate {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border: 10px solid var(--primary);
            padding: 3rem;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }

        .certificate h1 {
            color: var(--primary);
            font-weight: 700;
            margin-bottom: 2rem;
        }

        /* QR Code Container */
        .qr-code-container {
            background-color: white;
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
            margin: 1rem 0;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2rem;
            }
            
            .hero p {
                font-size: 1rem;
            }
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }
    </style>
</head>
<body>

    <!-- Loading Animation -->
    <div class="loading-container" id="loadingContainer">
        <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
        <lottie-player src="https://assets2.lottiefiles.com/packages/lf20_a2chheio.json" background="transparent" speed="1" style="width: 300px; height: 300px;" loop autoplay></lottie-player>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification">
        <div class="d-flex align-items-center">
            <i class="fas fa-check-circle me-2"></i>
            <span id="notificationMessage"></span>
        </div>
    </div>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg" id="mainNavbar" style="display: none;">
        <div class="container">
            <a class="navbar-brand" href="#" onclick="showPage('home')">
                <i class="fas fa-graduation-cap"></i> Talentae
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto align-items-center">
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showPage('home')">Beranda</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showPage('courses')">Kelas</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showPage('roadmap')">Roadmap</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showPage('dashboard')">Dashboard</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showPage('profile')">Profile</a>
                    </li>
                    <li class="nav-item">
                        <button class="dark-mode-toggle" onclick="toggleDarkMode()">
                            <i class="fas fa-moon"></i>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="btn btn-primary ms-2" onclick="logout()">
                            <i class="fas fa-sign-out-alt"></i> Logout
                        </button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Login Page -->
    <div id="loginPage" class="page active">
        <div class="auth-container">
            <div class="auth-card">
                <div class="text-center mb-4">
                    <h2 class="mb-2" style="color: var(--primary); font-weight: 700;">
                        <i class="fas fa-graduation-cap"></i> Talentae
                    </h2>
                    <p class="text-muted">Masuk ke akun Anda</p>
                </div>
                <form id="loginForm" onsubmit="handleLogin(event)">
                    <div class="mb-3">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-control" id="loginEmail" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Password</label>
                        <input type="password" class="form-control" id="loginPassword" required>
                    </div>
                    <div class="mb-3 form-check">
                        <input type="checkbox" class="form-check-input" id="rememberMe">
                        <label class="form-check-label" for="rememberMe">Ingat Saya</label>
                    </div>
                    <button type="submit" class="btn btn-primary w-100 mb-3">Masuk</button>
                    <div class="text-center">
                        <a href="#" onclick="showPage('forgot')" class="text-decoration-none">Lupa Password?</a>
                    </div>
                    <hr>
                    <div class="text-center">
                        <p>Belum punya akun? <a href="#" onclick="showPage('register')" class="text-decoration-none fw-bold" style="color: var(--primary);">Daftar Sekarang</a></p>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Register Page -->
    <div id="registerPage" class="page">
        <div class="auth-container">
            <div class="auth-card">
                <div class="text-center mb-4">
                    <h2 class="mb-2" style="color: var(--primary); font-weight: 700;">
                        <i class="fas fa-graduation-cap"></i> Talentae
                    </h2>
                    <p class="text-muted">Buat akun baru</p>
                </div>
                <form id="registerForm" onsubmit="handleRegister(event)">
                    <div class="mb-3">
                        <label class="form-label">Nama Lengkap</label>
                        <input type="text" class="form-control" id="registerName" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-control" id="registerEmail" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Password</label>
                        <input type="password" class="form-control" id="registerPassword" required minlength="6">
                        <small class="text-muted">Minimal 6 karakter</small>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Konfirmasi Password</label>
                        <input type="password" class="form-control" id="registerConfirmPassword" required minlength="6">
                    </div>
                    <button type="submit" class="btn btn-primary w-100 mb-3">Daftar</button>
                    <div class="text-center">
                        <p>Sudah punya akun? <a href="#" onclick="showPage('login')" class="text-decoration-none fw-bold" style="color: var(--primary);">Masuk</a></p>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Forgot Password Page -->
    <div id="forgotPage" class="page">
        <div class="auth-container">
            <div class="auth-card">
                <div class="text-center mb-4">
                    <h2 class="mb-2" style="color: var(--primary); font-weight: 700;">Lupa Password</h2>
                    <p class="text-muted">Masukkan email Anda untuk reset password</p>
                </div>
                <form id="forgotForm" onsubmit="handleForgotPassword(event)">
                    <div class="mb-3">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-control" id="forgotEmail" required>
                    </div>
                    <button type="submit" class="btn btn-primary w-100 mb-3">Reset Password</button>
                    <div class="text-center">
                        <a href="#" onclick="showPage('login')" class="text-decoration-none">Kembali ke Login</a>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Home Page -->
    <div id="homePage" class="page">
        <!-- Hero Section -->
        <section class="hero">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-6">
                        <h1>Belajar Skill Praktis, Siap Kerja!</h1>
                        <p>Platform pembelajaran singkat dan aplikatif untuk membantu Anda menguasai skill yang dibutuhkan industri</p>
                        <button class="btn btn-light btn-lg" onclick="showPage('courses')">
                            <i class="fas fa-play-circle"></i> Mulai Belajar Gratis
                        </button>
                    </div>
                    <div class="col-lg-6 text-center">
                        <lottie-player src="https://assets9.lottiefiles.com/packages/lf20_w51pcehl.json" background="transparent" speed="1" style="width: 100%; height: 400px;" loop autoplay></lottie-player>
                    </div>
                </div>
            </div>
        </section>

        <!-- Categories Section -->
        <section class="py-5">
            <div class="container">
                <h2 class="text-center mb-5 fw-bold">Kategori Populer</h2>
                <div class="row g-4">
                    <div class="col-md-4">
                        <div class="card text-center">
                            <div class="card-body p-4">
                                <i class="fas fa-palette fa-3x mb-3 icon-hover" style="color: var(--primary);"></i>
                                <h4>Desain</h4>
                                <p class="text-muted">UI/UX, Graphic Design, Video Editing</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card text-center">
                            <div class="card-body p-4">
                                <i class="fas fa-code fa-3x mb-3 icon-hover" style="color: var(--primary);"></i>
                                <h4>Coding</h4>
                                <p class="text-muted">Web Development, Mobile Apps, Python</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card text-center">
                            <div class="card-body p-4">
                                <i class="fas fa-robot fa-3x mb-3 icon-hover" style="color: var(--primary);"></i>
                                <h4>AI & Data</h4>
                                <p class="text-muted">Machine Learning, ChatGPT, Data Analytics</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card text-center">
                            <div class="card-body p-4">
                                <i class="fas fa-bullhorn fa-3x mb-3 icon-hover" style="color: var(--primary);"></i>
                                <h4>Digital Marketing</h4>
                                <p class="text-muted">SEO, Social Media, Content Marketing</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card text-center">
                            <div class="card-body p-4">
                                <i class="fas fa-chart-line fa-3x mb-3 icon-hover" style="color: var(--primary);"></i>
                                <h4>Keuangan</h4>
                                <p class="text-muted">Investasi, Accounting, Financial Planning</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card text-center">
                            <div class="card-body p-4">
                                <i class="fas fa-laptop-code fa-3x mb-3 icon-hover" style="color: var(--primary);"></i>
                                <h4>Freelancing</h4>
                                <p class="text-muted">Portfolio Building, Client Management</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Featured Courses -->
        <section class="py-5" style="background-color: var(--white);">
            <div class="container">
                <h2 class="text-center mb-5 fw-bold">Kelas Unggulan</h2>
                <div class="row g-4" id="featuredCourses"></div>
                <div class="text-center mt-4">
                    <button class="btn btn-primary btn-lg" onclick="showPage('courses')">Lihat Semua Kelas</button>
                </div>
            </div>
        </section>
    </div>

    <!-- Courses Page -->
    <div id="coursesPage" class="page">
        <div class="container py-5">
            <h1 class="mb-4 fw-bold">Semua Kelas</h1>
            
            <!-- Filter -->
            <div class="row mb-4">
                <div class="col-md-3">
                    <select class="form-select" id="categoryFilter" onchange="filterCourses()">
                        <option value="all">Semua Kategori</option>
                        <option value="desain">Desain</option>
                        <option value="coding">Coding</option>
                        <option value="ai">AI & Data</option>
                        <option value="digital-marketing">Digital Marketing</option>
                        <option value="keuangan">Keuangan</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <select class="form-select" id="levelFilter" onchange="filterCourses()">
                        <option value="all">Semua Level</option>
                        <option value="beginner">Beginner</option>
                        <option value="intermediate">Intermediate</option>
                        <option value="advanced">Advanced</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <select class="form-select" id="typeFilter" onchange="filterCourses()">
                        <option value="all">Semua Tipe</option>
                        <option value="gratis">Gratis</option>
                        <option value="premium">Premium</option>
                    </select>
                </div>
            </div>

            <div class="row g-4" id="coursesList"></div>
        </div>
    </div>

    <!-- Course Detail Modal -->
    <div class="modal fade" id="courseDetailModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content" style="border-radius: 20px;">
                <div class="modal-header border-0">
                    <h5 class="modal-title fw-bold" id="courseDetailTitle"></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="courseDetailBody"></div>
            </div>
        </div>
    </div>

    <!-- Payment Modal -->
    <div class="modal fade" id="paymentModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content" style="border-radius: 20px;">
                <div class="modal-header border-0">
                    <h5 class="modal-title fw-bold">Pilih Metode Pembayaran</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div id="paymentMethodSelection">
                        <div class="payment-option" onclick="selectPaymentMethod('card')">
                            <i class="fas fa-credit-card fa-2x mb-2" style="color: var(--primary);"></i>
                            <h6>Kartu Kredit/Debit</h6>
                        </div>
                        <div class="payment-option" onclick="selectPaymentMethod('qris')">
                            <i class="fas fa-qrcode fa-2x mb-2" style="color: var(--primary);"></i>
                            <h6>QRIS</h6>
                        </div>
                        <div class="payment-option" onclick="selectPaymentMethod('bank')">
                            <i class="fas fa-university fa-2x mb-2" style="color: var(--primary);"></i>
                            <h6>Transfer Bank</h6>
                        </div>
                        <div class="payment-option" onclick="selectPaymentMethod('ewallet')">
                            <i class="fas fa-mobile-alt fa-2x mb-2" style="color: var(--primary);"></i>
                            <h6>E-Wallet</h6>
                        </div>
                    </div>

                    <!-- Card Payment Form -->
                    <div id="cardPaymentForm" style="display: none;">
                        <form onsubmit="processCardPayment(event)">
                            <div class="mb-3">
                                <label class="form-label">Nama Bank</label>
                                <select class="form-select" id="bankName" required>
                                    <option value="">Pilih Bank</option>
                                    <option value="BCA">BCA</option>
                                    <option value="Mandiri">Mandiri</option>
                                    <option value="BNI">BNI</option>
                                    <option value="BRI">BRI</option>
                                </select>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Nomor Kartu</label>
                                <input type="text" class="form-control" id="cardNumber" placeholder="1234 5678 9012 3456" maxlength="19" required>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label">Tanggal Kadaluarsa</label>
                                    <input type="text" class="form-control" id="cardExpiry" placeholder="MM/YY" maxlength="5" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label">CVV</label>
                                    <input type="text" class="form-control" id="cardCVV" placeholder="123" maxlength="3" required>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Jumlah Tagihan</label>
                                <input type="text" class="form-control" id="cardAmount" readonly>
                            </div>
                            <button type="submit" class="btn btn-primary w-100">Bayar Sekarang</button>
                            <button type="button" class="btn btn-secondary w-100 mt-2" onclick="backToPaymentMethods()">Kembali</button>
                        </form>
                    </div>

                    <!-- QRIS Payment -->
                    <div id="qrisPayment" style="display: none;">
                        <div class="qr-code-container">
                            <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=talentae-payment" alt="QR Code" style="width: 200px; height: 200px;">
                            <h5 class="mt-3">Scan QR Code</h5>
                            <p class="text-muted">Total: <span id="qrisAmount"></span></p>
                        </div>
                        <button class="btn btn-primary w-100 mt-3" onclick="confirmQRISPayment()">Saya Sudah Bayar</button>
                        <button type="button" class="btn btn-secondary w-100 mt-2" onclick="backToPaymentMethods()">Kembali</button>
                    </div>

                    <!-- Bank Transfer -->
                    <div id="bankTransfer" style="display: none;">
                        <div class="mb-3">
                            <label class="form-label">Pilih Bank</label>
                            <select class="form-select" id="transferBank" onchange="showBankAccount()">
                                <option value="">Pilih Bank</option>
                                <option value="BCA">BCA</option>
                                <option value="Mandiri">Mandiri</option>
                                <option value="BNI">BNI</option>
                                <option value="BRI">BRI</option>
                            </select>
                        </div>
                        <div id="bankAccountInfo" style="display: none;">
                            <div class="alert alert-info">
                                <h6>Detail Transfer:</h6>
                                <p class="mb-1">Bank: <strong id="selectedBank"></strong></p>
                                <p class="mb-1">No. Rekening: <strong>1234567890</strong></p>
                                <p class="mb-1">Atas Nama: <strong>PT Talentae Indonesia</strong></p>
                                <p class="mb-0">Jumlah: <strong id="bankAmount"></strong></p>
                            </div>
                            <button class="btn btn-primary w-100" onclick="confirmBankTransfer()">Konfirmasi Pembayaran</button>
                        </div>
                        <button type="button" class="btn btn-secondary w-100 mt-2" onclick="backToPaymentMethods()">Kembali</button>
                    </div>

                    <!-- E-Wallet -->
                    <div id="ewalletPayment" style="display: none;">
                        <div class="mb-3">
                            <label class="form-label">Pilih E-Wallet</label>
                            <select class="form-select" id="ewalletType" onchange="showEwalletInfo()">
                                <option value="">Pilih E-Wallet</option>
                                <option value="Dana">Dana</option>
                                <option value="GoPay">GoPay</option>
                                <option value="ShopeePay">ShopeePay</option>
                            </select>
                        </div>
                        <div id="ewalletInfo" style="display: none;">
                            <div class="alert alert-info">
                                <h6>Detail Pembayaran:</h6>
                                <p class="mb-1">E-Wallet: <strong id="selectedEwallet"></strong></p>
                                <p class="mb-0">Jumlah: <strong id="ewalletAmount"></strong></p>
                            </div>
                            <div class="qr-code-container">
                                <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=talentae-ewallet" alt="QR Code" style="width: 200px; height: 200px;">
                                <p class="text-muted mt-2">Scan dengan aplikasi <span id="ewalletName"></span></p>
                            </div>
                            <button class="btn btn-primary w-100" onclick="confirmEwalletPayment()">Konfirmasi Pembayaran</button>
                        </div>
                        <button type="button" class="btn btn-secondary w-100 mt-2" onclick="backToPaymentMethods()">Kembali</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Payment Success Modal -->
    <div class="modal fade" id="paymentSuccessModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content" style="border-radius: 20px;">
                <div class="modal-body text-center p-5">
                    <i class="fas fa-check-circle fa-5x mb-3 checkmark" style="color: var(--secondary);"></i>
                    <h3 class="mb-3">Pembayaran Berhasil!</h3>
                    <p class="text-muted">Terima kasih, pembayaran Anda telah dikonfirmasi.</p>
                    <button class="btn btn-primary" data-bs-dismiss="modal" onclick="showPage('dashboard')">Lihat Dashboard</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Roadmap Page -->
    <div id="roadmapPage" class="page">
        <div class="container py-5">
            <h1 class="mb-4 fw-bold">Roadmap Pembelajaran</h1>
            <p class="text-muted mb-5">Ikuti langkah demi langkah untuk menguasai skill yang Anda inginkan</p>
            
            <div class="row">
                <div class="col-md-3 mb-4">
                    <h5 class="mb-3">Pilih Roadmap:</h5>
                    <div class="list-group">
                        <a href="#" class="list-group-item list-group-item-action active" onclick="showRoadmap('web-developer')">Web Developer</a>
                        <a href="#" class="list-group-item list-group-item-action" onclick="showRoadmap('ui-ux-designer')">UI/UX Designer</a>
                        <a href="#" class="list-group-item list-group-item-action" onclick="showRoadmap('digital-marketer')">Digital Marketer</a>
                        <a href="#" class="list-group-item list-group-item-action" onclick="showRoadmap('data-analyst')">Data Analyst</a>
                    </div>
                </div>
                <div class="col-md-9">
                    <div id="roadmapContent"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard Page -->
    <div id="dashboardPage" class="page">
        <div class="container py-5">
            <h1 class="mb-4 fw-bold">Dashboard</h1>
            
            <!-- Stats -->
            <div class="row g-4 mb-5">
                <div class="col-md-3">
                    <div class="stat-card">
                        <i class="fas fa-book fa-2x mb-2"></i>
                        <h3 id="totalCourses">0</h3>
                        <p>Total Kelas</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="stat-card" style="background: linear-gradient(135deg, var(--secondary) 0%, #459129 100%);">
                        <i class="fas fa-check-circle fa-2x mb-2"></i>
                        <h3 id="completedCourses">0</h3>
                        <p>Kelas Selesai</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="stat-card" style="background: linear-gradient(135deg, #FF9800 0%, #F57C00 100%);">
                        <i class="fas fa-clock fa-2x mb-2"></i>
                        <h3 id="inProgressCourses">0</h3>
                        <p>Dalam Progress</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="stat-card" style="background: linear-gradient(135deg, #E91E63 0%, #C2185B 100%);">
                        <i class="fas fa-certificate fa-2x mb-2"></i>
                        <h3 id="totalCertificates">0</h3>
                        <p>Sertifikat</p>
                    </div>
                </div>
            </div>

            <!-- Progress Overview -->
            <div class="dashboard-card mb-4">
                <h4 class="mb-3 fw-bold">Progress Pembelajaran</h4>
                <div class="mb-3">
                    <div class="d-flex justify-content-between mb-2">
                        <span>Total Progress</span>
                        <span id="overallProgress">0%</span>
                    </div>
                    <div class="progress">
                        <div class="progress-bar" id="overallProgressBar" style="width: 0%"></div>
                    </div>
                </div>
            </div>

            <!-- Course History -->
            <div class="dashboard-card">
                <h4 class="mb-3 fw-bold">Riwayat Kelas</h4>
                <div id="courseHistory"></div>
            </div>

            <!-- Certificates -->
            <div class="dashboard-card mt-4">
                <h4 class="mb-3 fw-bold">Sertifikat Saya</h4>
                <div id="certificatesList"></div>
            </div>

            <!-- Skills Mastered -->
            <div class="dashboard-card mt-4">
                <h4 class="mb-3 fw-bold">Skill yang Dikuasai</h4>
                <div id="skillsList"></div>
            </div>
        </div>
    </div>

    <!-- Certificate Modal -->
    <div class="modal fade" id="certificateModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content" style="border-radius: 20px;">
                <div class="modal-body p-0">
                    <div class="certificate" id="certificateContent">
                        <h1><i class="fas fa-certificate"></i> Sertifikat Penyelesaian</h1>
                        <p class="lead">Sertifikat ini diberikan kepada</p>
                        <h2 id="certificateName" style="color: var(--primary); margin: 2rem 0;"></h2>
                        <p class="lead">Telah menyelesaikan kelas</p>
                        <h3 id="certificateCourse" style="margin: 2rem 0;"></h3>
                        <p class="text-muted">Tanggal: <span id="certificateDate"></span></p>
                        <div class="mt-4">
                            <button class="btn btn-primary me-2" onclick="downloadCertificate()">
                                <i class="fas fa-download"></i> Download
                            </button>
                            <button class="btn btn-secondary" onclick="shareCertificateLinkedIn()">
                                <i class="fab fa-linkedin"></i> Share di LinkedIn
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Profile Page -->
    <div id="profilePage" class="page">
        <div class="container py-5">
            <div class="row">
                <div class="col-md-4">
                    <div class="dashboard-card text-center">
                        <div class="mb-3">
                            <i class="fas fa-user-circle fa-5x" style="color: var(--primary);"></i>
                        </div>
                        <h4 id="profileName"></h4>
                        <p class="text-muted" id="profileEmail"></p>
                        <button class="btn btn-primary w-100 mt-3" onclick="enableEditProfile()">
                            <i class="fas fa-edit"></i> Edit Profile
                        </button>
                    </div>
                </div>
                <div class="col-md-8">
                    <div class="dashboard-card">
                        <h4 class="mb-4 fw-bold">Informasi Akun</h4>
                        <form id="profileForm" onsubmit="updateProfile(event)">
                            <div class="mb-3">
                                <label class="form-label">Nama Lengkap</label>
                                <input type="text" class="form-control" id="profileFormName" disabled>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Email</label>
                                <input type="email" class="form-control" id="profileFormEmail" disabled>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Nomor Telepon</label>
                                <input type="tel" class="form-control" id="profilePhone" disabled>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Bio</label>
                                <textarea class="form-control" id="profileBio" rows="3" disabled></textarea>
                            </div>
                            <div id="profileActions" style="display: none;">
                                <button type="submit" class="btn btn-primary">Simpan Perubahan</button>
                                <button type="button" class="btn btn-secondary" onclick="cancelEditProfile()">Batal</button>
                            </div>
                        </form>
                    </div>

                    <div class="dashboard-card mt-4">
                        <h4 class="mb-4 fw-bold">Ubah Password</h4>
                        <form id="changePasswordForm" onsubmit="changePassword(event)">
                            <div class="mb-3">
                                <label class="form-label">Password Lama</label>
                                <input type="password" class="form-control" id="oldPassword" required>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Password Baru</label>
                                <input type="password" class="form-control" id="newPassword" required minlength="6">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Konfirmasi Password Baru</label>
                                <input type="password" class="form-control" id="confirmNewPassword" required minlength="6">
                            </div>
                            <button type="submit" class="btn btn-primary">Ubah Password</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Data Courses
        const coursesData = [
            {
                id: 1,
                title: "UI/UX Design Fundamentals",
                category: "desain",
                level: "beginner",
                type: "gratis",
                price: 0,
                duration: "45 menit",
                video: "https://www.youtube.com/embed/c9Wg6Cb_YlU",
                description: "Pelajari dasar-dasar UI/UX Design dari nol",
                image: "https://images.unsplash.com/photo-1561070791-2526d30994b5?w=400",
                lessons: 8,
                students: 1250
            },
            {
                id: 2,
                title: "Web Development dengan HTML & CSS",
                category: "coding",
                level: "beginner",
                type: "gratis",
                price: 0,
                duration: "60 menit",
                video: "https://www.youtube.com/embed/pQN-pnXPaVg",
                description: "Mulai karir sebagai Web Developer",
                image: "https://images.unsplash.com/photo-1498050108023-c5249f4df085?w=400",
                lessons: 10,
                students: 2100
            },
            {
                id: 3,
                title: "ChatGPT untuk Produktivitas",
                category: "ai",
                level: "beginner",
                type: "gratis",
                price: 0,
                duration: "30 menit",
                video: "https://www.youtube.com/embed/JTxsNm9IdYU",
                description: "Maksimalkan produktivitas dengan AI",
                image: "https://images.unsplash.com/photo-1677442136019-21780ecad995?w=400",
                lessons: 6,
                students: 3500
            },
            {
                id: 4,
                title: "Instagram Marketing Mastery",
                category: "digital-marketing",
                level: "intermediate",
                type: "premium",
                price: 299000,
                duration: "90 menit",
                video: "https://www.youtube.com/embed/yNGVUzEwTnQ",
                description: "Strategi Instagram Marketing yang terbukti efektif",
                image: "https://images.unsplash.com/photo-1611162617474-5b21e879e113?w=400",
                lessons: 12,
                students: 890
            },
            {
                id: 5,
                title: "Financial Planning 101",
                category: "keuangan",
                level: "beginner",
                type: "gratis",
                price: 0,
                duration: "40 menit",
                video: "https://www.youtube.com/embed/HQzoZfc3GwQ",
                description: "Dasar-dasar perencanaan keuangan pribadi",
                image: "https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=400",
                lessons: 7,
                students: 1800
            },
            {
                id: 6,
                title: "Python for Data Science",
                category: "ai",
                level: "intermediate",
                type: "premium",
                price: 499000,
                duration: "120 menit",
                video: "https://www.youtube.com/embed/_uQrJ0TkZlc",
                description: "Kuasai Python untuk analisis data",
                image: "https://images.unsplash.com/photo-1526379095098-d400fd0bf935?w=400",
                lessons: 15,
                students: 650
            },
            {
                id: 7,
                title: "SEO Optimization Advanced",
                category: "digital-marketing",
                level: "advanced",
                type: "premium",
                price: 399000,
                duration: "100 menit",
                video: "https://www.youtube.com/embed/SnxeXZpZkI0",
                description: "Teknik SEO tingkat lanjut untuk ranking #1",
                image: "https://images.unsplash.com/photo-1432888498266-38ffec3eaf0a?w=400",
                lessons: 14,
                students: 450
            },
            {
                id: 8,
                title: "Graphic Design with Canva",
                category: "desain",
                level: "beginner",
                type: "gratis",
                price: 0,
                duration: "35 menit",
                video: "https://www.youtube.com/embed/cn8sVzK7xaI",
                description: "Buat desain profesional dengan Canva",
                image: "https://images.unsplash.com/photo-1626785774625-ddcddc3445e9?w=400",
                lessons: 8,
                students: 2800
            }
        ];

        // Roadmaps Data
        const roadmapsData = {
            'web-developer': [
                {
                    title: "Dasar-dasar Web Development",
                    description: "HTML, CSS, JavaScript fundamentals",
                    duration: "4 minggu",
                    completed: false
                },
                {
                    title: "Frontend Framework",
                    description: "React.js atau Vue.js",
                    duration: "6 minggu",
                    completed: false
                },
                {
                    title: "Backend Development",
                    description: "Node.js, Express, Database",
                    duration: "8 minggu",
                    completed: false
                },
                {
                    title: "Full Stack Project",
                    description: "Buat aplikasi web lengkap",
                    duration: "4 minggu",
                    completed: false
                }
            ],
            'ui-ux-designer': [
                {
                    title: "Design Thinking",
                    description: "Prinsip dasar desain dan user research",
                    duration: "3 minggu",
                    completed: false
                },
                {
                    title: "UI Design Tools",
                    description: "Figma, Adobe XD",
                    duration: "4 minggu",
                    completed: false
                },
                {
                    title: "UX Research & Testing",
                    description: "User testing dan iterasi desain",
                    duration: "4 minggu",
                    completed: false
                },
                {
                    title: "Portfolio Project",
                    description: "Buat case study portfolio",
                    duration: "3 minggu",
                    completed: false
                }
            ],
            'digital-marketer': [
                {
                    title: "Digital Marketing Basics",
                    description: "SEO, SEM, Social Media",
                    duration: "3 minggu",
                    completed: false
                },
                {
                    title: "Content Marketing",
                    description: "Content strategy & creation",
                    duration: "4 minggu",
                    completed: false
                },
                {
                    title: "Analytics & Optimization",
                    description: "Google Analytics, A/B Testing",
                    duration: "4 minggu",
                    completed: false
                },
                {
                    title: "Campaign Management",
                    description: "Jalankan campaign lengkap",
                    duration: "4 minggu",
                    completed: false
                }
            ],
            'data-analyst': [
                {
                    title: "Statistics & Math",
                    description: "Dasar statistik untuk analisis data",
                    duration: "4 minggu",
                    completed: false
                },
                {
                    title: "Python for Data",
                    description: "Pandas, NumPy, Matplotlib",
                    duration: "6 minggu",
                    completed: false
                },
                {
                    title: "SQL & Databases",
                    description: "Query optimization & database design",
                    duration: "4 minggu",
                    completed: false
                },
                {
                    title: "Data Visualization",
                    description: "Tableau, Power BI",
                    duration: "4 mingkau",
                    completed: false
                }
            ]
        };

        // Initialize
        let currentUser = null;
        let currentCourse = null;
        let currentPaymentAmount = 0;

        // Check session on load
        window.addEventListener('DOMContentLoaded', function() {
            checkSession();
        });

        function checkSession() {
            const session = localStorage.getItem('talentaeSession');
            if (session) {
                currentUser = JSON.parse(session);
                showMainApp();
            }
        }

        // Show/Hide Pages
        function showPage(pageName) {
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => page.classList.remove('active'));
            
            const targetPage = document.getElementById(pageName + 'Page');
            if (targetPage) {
                targetPage.classList.add('active');
                
                // Load content based on page
                if (pageName === 'home') loadFeaturedCourses();
                if (pageName === 'courses') loadAllCourses();
                if (pageName === 'dashboard') loadDashboard();
                if (pageName === 'roadmap') showRoadmap('web-developer');
                if (pageName === 'profile') loadProfile();
            }
        }

        // Authentication Functions
        function handleRegister(event) {
            event.preventDefault();
            
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('registerConfirmPassword').value;
            
            if (password !== confirmPassword) {
                showNotification('Password tidak cocok!', 'error');
                return;
            }
            
            // Check if email exists
            const users = JSON.parse(localStorage.getItem('talentaeUsers') || '[]');
            if (users.find(u => u.email === email)) {
                showNotification('Email sudah terdaftar!', 'error');
                return;
            }
            
            // Hash password (simple encoding)
            const hashedPassword = btoa(password);
            
            const newUser = {
                id: Date.now(),
                name,
                email,
                password: hashedPassword,
                phone: '',
                bio: '',
                enrolledCourses: [],
                completedCourses: [],
                certificates: [],
                skills: [],
                createdAt: new Date().toISOString()
            };
            
            users.push(newUser);
            localStorage.setItem('talentaeUsers', JSON.stringify(users));
            
            showNotification('Registrasi berhasil! Silakan login.', 'success');
            showPage('login');
        }

        function handleLogin(event) {
            event.preventDefault();
            
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            const rememberMe = document.getElementById('rememberMe').checked;
            
            const users = JSON.parse(localStorage.getItem('talentaeUsers') || '[]');
            const user = users.find(u => u.email === email);
            
            if (!user) {
                showNotification('Email tidak terdaftar!', 'error');
                return;
            }
            
            const hashedPassword = btoa(password);
            if (user.password !== hashedPassword) {
                showNotification('Password salah!', 'error');
                return;
            }
            
            currentUser = user;
            
            if (rememberMe) {
                localStorage.setItem('talentaeSession', JSON.stringify(user));
            } else {
                sessionStorage.setItem('talentaeSession', JSON.stringify(user));
            }
            
            showNotification('Login berhasil!', 'success');
            showMainApp();
        }

        function handleForgotPassword(event) {
            event.preventDefault();
            
            const email = document.getElementById('forgotEmail').value;
            const users = JSON.parse(localStorage.getItem('talentaeUsers') || '[]');
            const user = users.find(u => u.email === email);
            
            if (!user) {
                showNotification('Email tidak terdaftar!', 'error');
                return;
            }
            
            // Simulate sending reset email
            showNotification('Link reset password telah dikirim ke email Anda!', 'success');
            setTimeout(() => showPage('login'), 2000);
        }

        function logout() {
            localStorage.removeItem('talentaeSession');
            sessionStorage.removeItem('talentaeSession');
            currentUser = null;
            document.getElementById('mainNavbar').style.display = 'none';
            showPage('login');
            showNotification('Logout berhasil!', 'success');
        }

        function showMainApp() {
            document.getElementById('mainNavbar').style.display = 'block';
            showPage('home');
        }

        // Load Featured Courses
        function loadFeaturedCourses() {
            const container = document.getElementById('featuredCourses');
            const featured = coursesData.slice(0, 3);
            
            container.innerHTML = featured.map(course => `
                <div class="col-md-4">
                    <div class="card">
                        <div style="position: relative;">
                            <img src="${course.image}" class="card-img-top" alt="${course.title}">
                            <span class="category-badge">${course.category}</span>
                        </div>
                        <div class="card-body">
                            <span class="skill-badge badge-${course.level}">${course.level}</span>
                            <h5 class="card-title mt-2 mb-3">${course.title}</h5>
                            <p class="card-text text-muted">${course.description}</p>
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <span><i class="fas fa-clock"></i> ${course.duration}</span>
                                <span><i class="fas fa-users"></i> ${course.students}</span>
                            </div>
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="fw-bold" style="color: var(--primary);">
                                    ${course.type === 'gratis' ? 'GRATIS' : 'Rp ' + course.price.toLocaleString('id-ID')}
                                </span>
                                <button class="btn btn-primary btn-sm" onclick="viewCourseDetail(${course.id})">
                                    Lihat Detail
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Load All Courses
        function loadAllCourses() {
            filterCourses();
        }

        function filterCourses() {
            const categoryFilter = document.getElementById('categoryFilter').value;
            const levelFilter = document.getElementById('levelFilter').value;
            const typeFilter = document.getElementById('typeFilter').value;
            
            let filtered = coursesData;
            
            if (categoryFilter !== 'all') {
                filtered = filtered.filter(c => c.category === categoryFilter);
            }
            if (levelFilter !== 'all') {
                filtered = filtered.filter(c => c.level === levelFilter);
            }
            if (typeFilter !== 'all') {
                filtered = filtered.filter(c => c.type === typeFilter);
            }
            
            const container = document.getElementById('coursesList');
            
            if (filtered.length === 0) {
                container.innerHTML = `
                    <div class="col-12">
                        <div class="empty-state">
                            <i class="fas fa-inbox"></i>
                            <h4>Tidak ada kelas yang ditemukan</h4>
                            <p>Coba ubah filter untuk melihat kelas lainnya</p>
                        </div>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = filtered.map(course => `
                <div class="col-md-4">
                    <div class="card">
                        <div style="position: relative;">
                            <img src="${course.image}" class="card-img-top" alt="${course.title}">
                            <span class="category-badge">${course.category}</span>
                        </div>
                        <div class="card-body">
                            <span class="skill-badge badge-${course.level}">${course.level}</span>
                            <h5 class="card-title mt-2 mb-3">${course.title}</h5>
                            <p class="card-text text-muted">${course.description}</p>
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <span><i class="fas fa-clock"></i> ${course.duration}</span>
                                <span><i class="fas fa-book"></i> ${course.lessons} pelajaran</span>
                            </div>
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="fw-bold" style="color: var(--primary);">
                                    ${course.type === 'gratis' ? 'GRATIS' : 'Rp ' + course.price.toLocaleString('id-ID')}
                                </span>
                                <button class="btn btn-primary btn-sm" onclick="viewCourseDetail(${course.id})">
                                    Lihat Detail
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // View Course Detail
        function viewCourseDetail(courseId) {
            const course = coursesData.find(c => c.id === courseId);
            currentCourse = course;
            
            const isEnrolled = currentUser.enrolledCourses.includes(courseId);
            const isCompleted = currentUser.completedCourses.includes(courseId);
            
            const modalBody = document.getElementById('courseDetailBody');
            modalBody.innerHTML = `
                <div class="ratio ratio-16x9 mb-4">
                    <iframe src="${course.video}" allowfullscreen></iframe>
                </div>
                <span class="skill-badge badge-${course.level}">${course.level}</span>
                <span class="skill-badge" style="background-color: var(--secondary); color: white;">${course.category}</span>
                <h3 class="mt-3 mb-3">${course.title}</h3>
                <p class="text-muted">${course.description}</p>
                
                <div class="row mb-4">
                    <div class="col-md-4">
                        <i class="fas fa-clock"></i> ${course.duration}
                    </div>
                    <div class="col-md-4">
                        <i class="fas fa-book"></i> ${course.lessons} pelajaran
                    </div>
                    <div class="col-md-4">
                        <i class="fas fa-users"></i> ${course.students} siswa
                    </div>
                </div>
                
                ${isCompleted ? `
                    <div class="alert alert-success">
                        <i class="fas fa-check-circle"></i> Anda telah menyelesaikan kelas ini!
                        <button class="btn btn-sm btn-success float-end" onclick="viewCertificate(${courseId})">
                            Lihat Sertifikat
                        </button>
                    </div>
                ` : isEnrolled ? `
                    <div class="progress mb-3">
                        <div class="progress-bar" style="width: 50%">50%</div>
                    </div>
                    <button class="btn btn-primary w-100 mb-2" onclick="continueCourse(${courseId})">
                        Lanjutkan Belajar
                    </button>
                    <button class="btn btn-secondary w-100" onclick="completeCourse(${courseId})">
                        Tandai Selesai
                    </button>
                ` : `
                    <h4 class="mb-3">
                        ${course.type === 'gratis' ? 
                            '<span style="color: var(--secondary);">GRATIS</span>' : 
                            '<span style="color: var(--primary);">Rp ' + course.price.toLocaleString('id-ID') + '</span>'
                        }
                    </h4>
                    <button class="btn btn-primary btn-lg w-100" onclick="enrollCourse(${courseId})">
                        ${course.type === 'gratis' ? 'Mulai Belajar Gratis' : 'Beli Kelas Ini'}
                    </button>
                `}
            `;
            
            document.getElementById('courseDetailTitle').textContent = course.title;
            new bootstrap.Modal(document.getElementById('courseDetailModal')).show();
        }

        // Enroll Course
        function enrollCourse(courseId) {
            const course = coursesData.find(c => c.id === courseId);
            
            if (course.type === 'premium') {
                currentPaymentAmount = course.price;
                showPaymentModal();
            } else {
                processEnrollment(courseId);
            }
        }

        function processEnrollment(courseId) {
            showLoading();
            
            setTimeout(() => {
                currentUser.enrolledCourses.push(courseId);
                updateUserData();
                hideLoading();
                
                bootstrap.Modal.getInstance(document.getElementById('courseDetailModal')).hide();
                showNotification('Berhasil mendaftar kelas!', 'success');
                
                viewCourseDetail(courseId);
            }, 1000);
        }

        function continueCourse(courseId) {
            showNotification('Melanjutkan pembelajaran...', 'success');
            // Here you would implement the actual course player
        }

        function completeCourse(courseId) {
            showLoading();
            
            setTimeout(() => {
                const index = currentUser.enrolledCourses.indexOf(courseId);
                if (index > -1) {
                    currentUser.enrolledCourses.splice(index, 1);
                }
                
                currentUser.completedCourses.push(courseId);
                
                // Generate certificate
                const certificate = {
                    courseId: courseId,
                    courseName: coursesData.find(c => c.id === courseId).title,
                    date: new Date().toLocaleDateString('id-ID'),
                    certificateId: 'CERT-' + Date.now()
                };
                currentUser.certificates.push(certificate);
                
                // Add skill
                const course = coursesData.find(c => c.id === courseId);
                if (!currentUser.skills.includes(course.category)) {
                    currentUser.skills.push(course.category);
                }
                
                updateUserData();
                hideLoading();
                
                bootstrap.Modal.getInstance(document.getElementById('courseDetailModal')).hide();
                showNotification('Selamat! Anda telah menyelesaikan kelas ini!', 'success');
                
                // Show certificate
                setTimeout(() => viewCertificate(courseId), 500);
            }, 1000);
        }

        // Payment Functions
        function showPaymentModal() {
            document.getElementById('paymentMethodSelection').style.display = 'block';
            document.getElementById('cardPaymentForm').style.display = 'none';
            document.getElementById('qrisPayment').style.display = 'none';
            document.getElementById('bankTransfer').style.display = 'none';
            document.getElementById('ewalletPayment').style.display = 'none';
            
            new bootstrap.Modal(document.getElementById('paymentModal')).show();
        }

        function selectPaymentMethod(method) {
            document.getElementById('paymentMethodSelection').style.display = 'none';
            
            if (method === 'card') {
                document.getElementById('cardPaymentForm').style.display = 'block';
                document.getElementById('cardAmount').value = 'Rp ' + currentPaymentAmount.toLocaleString('id-ID');
            } else if (method === 'qris') {
                document.getElementById('qrisPayment').style.display = 'block';
                document.getElementById('qrisAmount').textContent = 'Rp ' + currentPaymentAmount.toLocaleString('id-ID');
            } else if (method === 'bank') {
                document.getElementById('bankTransfer').style.display = 'block';
            } else if (method === 'ewallet') {
                document.getElementById('ewalletPayment').style.display = 'block';
            }
        }

        function backToPaymentMethods() {
            document.getElementById('paymentMethodSelection').style.display = 'block';
            document.getElementById('cardPaymentForm').style.display = 'none';
            document.getElementById('qrisPayment').style.display = 'none';
            document.getElementById('bankTransfer').style.display = 'none';
            document.getElementById('ewalletPayment').style.display = 'none';
        }

        function processCardPayment(event) {
            event.preventDefault();
            showLoading();
            
            setTimeout(() => {
                hideLoading();
                bootstrap.Modal.getInstance(document.getElementById('paymentModal')).hide();
                showPaymentSuccess();
                processEnrollment(currentCourse.id);
            }, 2000);
        }

        function confirmQRISPayment() {
            showLoading();
            
            setTimeout(() => {
                hideLoading();
                bootstrap.Modal.getInstance(document.getElementById('paymentModal')).hide();
                showPaymentSuccess();
                processEnrollment(currentCourse.id);
            }, 2000);
        }

        function showBankAccount() {
            const bank = document.getElementById('transferBank').value;
            if (bank) {
                document.getElementById('selectedBank').textContent = bank;
                document.getElementById('bankAmount').textContent = 'Rp ' + currentPaymentAmount.toLocaleString('id-ID');
                document.getElementById('bankAccountInfo').style.display = 'block';
            }
        }

        function confirmBankTransfer() {
            showLoading();
            
            setTimeout(() => {
                hideLoading();
                bootstrap.Modal.getInstance(document.getElementById('paymentModal')).hide();
                showPaymentSuccess();
                processEnrollment(currentCourse.id);
            }, 2000);
        }

        function showEwalletInfo() {
            const ewallet = document.getElementById('ewalletType').value;
            if (ewallet) {
                document.getElementById('selectedEwallet').textContent = ewallet;
                document.getElementById('ewalletName').textContent = ewallet;
                document.getElementById('ewalletAmount').textContent = 'Rp ' + currentPaymentAmount.toLocaleString('id-ID');
                document.getElementById('ewalletInfo').style.display = 'block';
            }
        }

        function confirmEwalletPayment() {
            showLoading();
            
            setTimeout(() => {
                hideLoading();
                bootstrap.Modal.getInstance(document.getElementById('paymentModal')).hide();
                showPaymentSuccess();
                processEnrollment(currentCourse.id);
            }, 2000);
        }

        function showPaymentSuccess() {
            new bootstrap.Modal(document.getElementById('paymentSuccessModal')).show();
        }

        // Certificate Functions
        function viewCertificate(courseId) {
            const certificate = currentUser.certificates.find(c => c.courseId === courseId);
            
            if (certificate) {
                document.getElementById('certificateName').textContent = currentUser.name;
                document.getElementById('certificateCourse').textContent = certificate.courseName;
                document.getElementById('certificateDate').textContent = certificate.date;
                
                new bootstrap.Modal(document.getElementById('certificateModal')).show();
            }
        }

        function downloadCertificate() {
            showNotification('Sertifikat berhasil diunduh!', 'success');
            // Here you would implement actual PDF generation
        }

        function shareCertificateLinkedIn() {
            const url = 'https://www.linkedin.com/sharing/share-offsite/?url=' + encodeURIComponent(window.location.href);
            window.open(url, '_blank');
        }

        // Roadmap Functions
        function showRoadmap(roadmapType) {
            const roadmap = roadmapsData[roadmapType];
            const container = document.getElementById('roadmapContent');
            
            // Update active state
            document.querySelectorAll('.list-group-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.classList.add('active');
            
            container.innerHTML = roadmap.map((step, index) => `
                <div class="roadmap-step ${step.completed ? 'completed' : ''}" style="margin-left: 30px;">
                    <div class="d-flex justify-content-between align-items-start mb-3">
                        <div>
                            <h5 class="mb-2">
                                ${step.completed ? '<i class="fas fa-check-circle checkmark" style="color: var(--primary);"></i>' : 
                                  '<span class="badge bg-secondary">' + (index + 1) + '</span>'}
                                ${step.title}
                            </h5>
                            <p class="text-muted mb-2">${step.description}</p>
                            <small><i class="fas fa-clock"></i> ${step.duration}</small>
                        </div>
                        <button class="btn btn-sm btn-${step.completed ? 'success' : 'primary'}" 
                                onclick="toggleRoadmapStep('${roadmapType}', ${index})">
                            ${step.completed ? 'Selesai' : 'Mulai'}
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function toggleRoadmapStep(roadmapType, stepIndex) {
            roadmapsData[roadmapType][stepIndex].completed = !roadmapsData[roadmapType][stepIndex].completed;
            showRoadmap(roadmapType);
            
            if (roadmapsData[roadmapType][stepIndex].completed) {
                showNotification('Step selesai! Lanjutkan ke step berikutnya.', 'success');
            }
        }

        // Dashboard Functions
        function loadDashboard() {
            // Update stats
            document.getElementById('totalCourses').textContent = 
                currentUser.enrolledCourses.length + currentUser.completedCourses.length;
            document.getElementById('completedCourses').textContent = currentUser.completedCourses.length;
            document.getElementById('inProgressCourses').textContent = currentUser.enrolledCourses.length;
            document.getElementById('totalCertificates').textContent = currentUser.certificates.length;
            
            // Calculate overall progress
            const total = currentUser.enrolledCourses.length + currentUser.completedCourses.length;
            const completed = currentUser.completedCourses.length;
            const progress = total > 0 ? Math.round((completed / total) * 100) : 0;
            
            document.getElementById('overallProgress').textContent = progress + '%';
            document.getElementById('overallProgressBar').style.width = progress + '%';
            
            // Load course history
            loadCourseHistory();
            loadCertificates();
            loadSkills();
        }

        function loadCourseHistory() {
            const container = document.getElementById('courseHistory');
            const allCourses = [...currentUser.enrolledCourses, ...currentUser.completedCourses];
            
            if (allCourses.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-book-open"></i>
                        <h5>Belum ada kelas</h5>
                        <p>Mulai belajar sekarang!</p>
                        <button class="btn btn-primary" onclick="showPage('courses')">Jelajahi Kelas</button>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = allCourses.map(courseId => {
                const course = coursesData.find(c => c.id === courseId);
                const isCompleted = currentUser.completedCourses.includes(courseId);
                
                return `
                    <div class="card mb-3">
                        <div class="card-body">
                            <div class="row align-items-center">
                                <div class="col-md-2">
                                    <img src="${course.image}" class="img-fluid rounded" alt="${course.title}">
                                </div>
                                <div class="col-md-6">
                                    <h6 class="mb-1">${course.title}</h6>
                                    <small class="text-muted">${course.category}</small>
                                </div>
                                <div class="col-md-2">
                                    <span class="badge ${isCompleted ? 'bg-success' : 'bg-warning'}">
                                        ${isCompleted ? 'Selesai' : 'Dalam Progress'}
                                    </span>
                                </div>
                                <div class="col-md-2">
                                    <button class="btn btn-sm btn-primary" onclick="viewCourseDetail(${courseId})">
                                        Lihat
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function loadCertificates() {
            const container = document.getElementById('certificatesList');
            
            if (currentUser.certificates.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-certificate"></i>
                        <h5>Belum ada sertifikat</h5>
                        <p>Selesaikan kelas untuk mendapatkan sertifikat</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = currentUser.certificates.map(cert => `
                <div class="card mb-3">
                    <div class="card-body">
                        <div class="row align-items-center">
                            <div class="col-md-1">
                                <i class="fas fa-certificate fa-2x" style="color: var(--primary);"></i>
                            </div>
                            <div class="col-md-7">
                                <h6 class="mb-1">${cert.courseName}</h6>
                                <small class="text-muted">Diterbitkan: ${cert.date}</small>
                            </div>
                            <div class="col-md-4 text-end">
                                <button class="btn btn-sm btn-primary me-2" onclick="viewCertificate(${cert.courseId})">
                                    <i class="fas fa-eye"></i> Lihat
                                </button>
                                <button class="btn btn-sm btn-secondary" onclick="shareCertificateLinkedIn()">
                                    <i class="fab fa-linkedin"></i> Share
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function loadSkills() {
            const container = document.getElementById('skillsList');
            
            if (currentUser.skills.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-lightbulb"></i>
                        <h5>Belum ada skill yang dikuasai</h5>
                        <p>Mulai belajar untuk menguasai skill baru</p>
                    </div>
                `;
                return;
            }
            
            const skillIcons = {
                'desain': 'fa-palette',
                'coding': 'fa-code',
                'ai': 'fa-robot',
                'digital-marketing': 'fa-bullhorn',
                'keuangan': 'fa-chart-line'
            };
            
            container.innerHTML = currentUser.skills.map(skill => `
                <div class="card d-inline-block m-2" style="width: 200px;">
                    <div class="card-body text-center">
                        <i class="fas ${skillIcons[skill]} fa-3x mb-3" style="color: var(--primary);"></i>
                        <h6>${skill.charAt(0).toUpperCase() + skill.slice(1)}</h6>
                        <span class="skill-badge badge-intermediate">Intermediate</span>
                    </div>
                </div>
            `).join('');
        }

        // Profile Functions
        function loadProfile() {
            document.getElementById('profileName').textContent = currentUser.name;
            document.getElementById('profileEmail').textContent = currentUser.email;
            document.getElementById('profileFormName').value = currentUser.name;
            document.getElementById('profileFormEmail').value = currentUser.email;
            document.getElementById('profilePhone').value = currentUser.phone || '';
            document.getElementById('profileBio').value = currentUser.bio || '';
        }

        function enableEditProfile() {
            document.getElementById('profileFormName').disabled = false;
            document.getElementById('profilePhone').disabled = false;
            document.getElementById('profileBio').disabled = false;
            document.getElementById('profileActions').style.display = 'block';
        }

        function cancelEditProfile() {
            loadProfile();
            document.getElementById('profileFormName').disabled = true;
            document.getElementById('profilePhone').disabled = true;
            document.getElementById('profileBio').disabled = true;
            document.getElementById('profileActions').style.display = 'none';
        }

        function updateProfile(event) {
            event.preventDefault();
            
            currentUser.name = document.getElementById('profileFormName').value;
            currentUser.phone = document.getElementById('profilePhone').value;
            currentUser.bio = document.getElementById('profileBio').value;
            
            updateUserData();
            cancelEditProfile();
            loadProfile();
            
            showNotification('Profile berhasil diupdate!', 'success');
        }

        function changePassword(event) {
            event.preventDefault();
            
            const oldPassword = document.getElementById('oldPassword').value;
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmNewPassword').value;
            
            const hashedOldPassword = btoa(oldPassword);
            if (hashedOldPassword !== currentUser.password) {
                showNotification('Password lama salah!', 'error');
                return;
            }
            
            if (newPassword !== confirmPassword) {
                showNotification('Password baru tidak cocok!', 'error');
                return;
            }
            
            currentUser.password = btoa(newPassword);
            updateUserData();
            
            document.getElementById('changePasswordForm').reset();
            showNotification('Password berhasil diubah!', 'success');
        }

        // Update User Data
        function updateUserData() {
            const users = JSON.parse(localStorage.getItem('talentaeUsers') || '[]');
            const index = users.findIndex(u => u.id === currentUser.id);
            
            if (index !== -1) {
                users[index] = currentUser;
                localStorage.setItem('talentaeUsers', JSON.stringify(users));
                localStorage.setItem('talentaeSession', JSON.stringify(currentUser));
            }
        }

        // Dark Mode
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            const icon = document.querySelector('.dark-mode-toggle i');
            
            if (document.body.classList.contains('dark-mode')) {
                icon.classList.remove('fa-moon');
                icon.classList.add('fa-sun');
                localStorage.setItem('talentaeDarkMode', 'true');
            } else {
                icon.classList.remove('fa-sun');
                icon.classList.add('fa-moon');
                localStorage.setItem('talentaeDarkMode', 'false');
            }
        }

        // Check dark mode preference
        if (localStorage.getItem('talentaeDarkMode') === 'true') {
            document.body.classList.add('dark-mode');
            const icon = document.querySelector('.dark-mode-toggle i');
            if (icon) {
                icon.classList.remove('fa-moon');
                icon.classList.add('fa-sun');
            }
        }

        // Utility Functions
        function showLoading() {
            document.getElementById('loadingContainer').classList.add('show');
        }

        function hideLoading() {
            document.getElementById('loadingContainer').classList.remove('show');
        }

        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            const messageEl = document.getElementById('notificationMessage');
            
            notification.className = 'notification show ' + type;
            messageEl.textContent = message;
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Auto-format card number
        document.addEventListener('DOMContentLoaded', function() {
            const cardNumber = document.getElementById('cardNumber');
            if (cardNumber) {
                cardNumber.addEventListener('input', function(e) {
                    let value = e.target.value.replace(/\s/g, '');
                    let formattedValue = value.match(/.{1,4}/g)?.join(' ') || value;
                    e.target.value = formattedValue;
                });
            }
        });
    </script>
</body>
</html>